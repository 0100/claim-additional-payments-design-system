$app-content-heading-icon-size: .4em;
$app-content-heading-icon-gutter: .4em;

@include govuk-exports("app-content-heading") {
  // Anchored headings
  .app-content-heading {
    position: relative;
    left: -($app-content-heading-icon-size + $app-content-heading-icon-gutter);
    padding-left: $app-content-heading-icon-size + $app-content-heading-icon-gutter;
  }

  .app-content-heading__anchor {
    // Prose scope has high specificity requiring !importants
    color: currentColor !important;
    text-decoration: none;
  }

  .app-content-heading__icon {
    display: inline-block;
    width: $app-content-heading-icon-size;
    margin-left: -($app-content-heading-icon-size + $app-content-heading-icon-gutter);
    padding-right: $app-content-heading-icon-gutter;
    opacity: 0;
    color: govuk-colour("grey-2");
    font-size: 1em;
  }

  // Remove focus styles on anchor since you can't tab to them.
  .app-content-heading__anchor:focus {
    // Prose scope has high specificity requiring !importants
    outline: none !important;
    background: transparent !important;
  }

  // Only show icon with pointers that have hover (desktop)
  // Prevents mobile from accidentally having icons appear when pressing headings.
  @media (hover: hover) {
    .app-content-heading__anchor:hover .app-content-heading__icon {
      opacity: 1;
    }
  }
}
